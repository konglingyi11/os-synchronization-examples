# 操作系统经典进程同步问题

本仓库包含了实现各种经典操作系统概念的代码，特别关注于线程、同步和通过信号量进行进程间通信。

## 项目结构

项目被组织成几个关键组件，每个组件模拟操作系统功能的不同方面：

- **单生产者-单消费者**：一个基本模型，其中一个生产者和一个消费者通过共享缓冲区交互。
- **多生产者-多消费者**：生产者-消费者问题的扩展，涉及多个生产者和消费者。
- **单生产者-多消费者**：一个场景，其中单个生产者提供多种资源，被多个消费者消费。

每个场景都使用自定义的 `ThreadManager` 和 `Semaphore` 类来处理同步和线程管理。

### 文件和目录

- `lib/`：包含所有场景中使用的基础类。
  - `oslib.h`：包括整个项目中使用的公共头文件和定义。
  - `ThreadManager.h`：管理线程的创建和执行。
  - `Semaphore.h`：实现信号量逻辑进行同步。
- `producer-consumer/`：包含不同的生产者-消费者模型。
  - `单生产者-单消费者.cpp`：单个生产者和单个消费者模型。
  - `多生产者-多消费者.cpp`：具有多个生产者和消费者的模型。
  - `生产多种产品的单生产者-多消费者.cpp`：复杂场景，单个生产者提供多种资源，不同的消费者进行消费。

### 编译

该项目使用 CMake 来构建和管理项目文件。以下是编译项目的指令：

1. **前提条件**：确保系统上安装了 CMake。
2. 导航到项目目录。
3. 运行以下命令：
   ```bash
   cmake .
   make
   ```

### 执行

**要执行特定场景，可以在项目根目录下使用以下命令：**

* **单生产者-单消费者**：
  ```
  ./single_producer-single_consumer
  ```
* **多生产者-多消费者**：
  ```
  ./multiple_producer-multiple_consumer
  ```
* **单生产者-多消费者**：
  ```
  ./single_producer-multiple_consumer
  ```

## 文档

**每个源文件都有注释，解释功能及不同组件如线程和信号量的相互作用。要更深入地了解，请参阅每个文件中的注释。**

## 贡献

**欢迎贡献。如果您想改进模拟或添加新场景，请 Fork 仓库并提交 Pull Request。**

## 许可证

**此项目在 MIT 许可证下授权 - 详见 LICENSE 文件。**

```

这个 README 提供了一个简洁而全面的指南，使他人更容易理解并构建你的项目。
```
